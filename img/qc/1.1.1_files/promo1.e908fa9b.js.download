(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["js/routes/home1~js/routes/promo1"],{"164d":function(t,a,e){},1919:function(t,a,e){},3362:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[t.data.length>0&&0==t.isLoading?e("div",{staticClass:"grid-layout",style:{"grid-template-columns":"repeat("+t.item_qty+", 1fr)"}},t._l(t.data,function(a,s){return e("Item",{key:s,attrs:{data:a,type:t.type}})}),1):e("div",{staticClass:"grid-layout",style:{"grid-template-columns":"repeat("+t.item_qty+", 1fr)"}},t._l(3*t.item_qty,function(t,a){return e("div",{key:a,staticClass:"preload-item"},[e("PreLoadDiv",{attrs:{height:"100%"}}),e("PreLoadDiv",{staticClass:"my4",attrs:{height:"54.4px"}}),e("PreLoadDiv",{staticClass:"my2",attrs:{height:"16.8px"}}),e("PreLoadDiv",{staticClass:"my1",attrs:{height:"14px"}}),e("PreLoadDiv",{staticClass:"mt10",attrs:{height:"20px"}})],1)}),0)])},i=[],n=e("5a82"),o=e("adfc"),r={name:"GridLayout",props:["data","isLoading","item_qty","type"],components:{Item:n["a"],PreLoadDiv:o["a"]}},l=r,d=(e("790d"),e("2877")),c=Object(d["a"])(l,s,i,!1,null,"f8675440",null);a["a"]=c.exports},"4e9b":function(t,a,e){"use strict";var s=e("b651"),i=e.n(s);i.a},5522:function(t,a,e){},"5a82":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"lazy-container",rawName:"v-lazy-container",value:{selector:"img"},expression:"{ selector: 'img' }"}],attrs:{"data-track-content":"","data-content-name":t.type?t.type:t.data.data_content_name},on:{click:function(a){return t.trackClickPromoProduct(t.data.data_content_name)}}},[e("v-card",{staticClass:"product-item mx5 px10 pb10",attrs:{flat:"",width:t.item_width,to:{name:"Product",params:{sku:t.data.sku,url:t.data.url_key},query:t.pv_medium?{pv_source:"website",pv_medium:t.pv_medium,pv_campaign:t.data.sku}:null},"data-content-piece":t.data.sku?t.data.sku:""}},[e("div",{staticClass:"flex",attrs:{height:"25px"}},["Ngừng kinh doanh"!=t.product_status&&"Liên hệ"!=t.product_status?e("DiscountLabel",{attrs:{data:t.data}}):t._e(),t.data?e("ItemPromos",{staticClass:"mt5",attrs:{data:t.data}}):t._e()],1),e("div",{staticClass:"product-img"},[e("img",{class:{grayscale:"Ngừng kinh doanh"==t.product_status},attrs:{"data-src":t.data.image?t.data.image:t.lazy_image,alt:""}}),e("InStockLabel",{attrs:{data:t.data}}),t.data.flash_sale_bar?e("FlashSaleBar",{attrs:{data:t.data.flash_sale_bar}}):t._e()],1),t.data.bundle_items?e("v-tooltip",{attrs:{"max-width":"250",lazy:"",top:""}},[e("p",{staticClass:"product-name",attrs:{slot:"activator"},slot:"activator"},[t._v("\n        "+t._s(t.data.seo_name?t.data.seo_name:t.data.name)+"\n      ")]),e("p",[t._v("\n        "+t._s(t.data.seo_name?t.data.seo_name:t.data.name)+":\n        "),e("br"),t._l(t.data.bundle_items,function(a){return e("span",{key:t.data.sku+"-item-"+a.priority,staticClass:"bundle-item"},[t._v("\n          "+t._s(a.quantity)+" x "+t._s(a.name)+"\n          "),e("br")])})],2)]):e("v-tooltip",{attrs:{"max-width":"250",lazy:"",top:""}},[e("p",{staticClass:"product-name",attrs:{slot:"activator"},slot:"activator"},[t._v("\n        "+t._s(t.data.seo_name?t.data.seo_name:t.data.name)+"\n      ")]),e("p",[t._v(t._s(t.data.seo_name?t.data.seo_name:t.data.name))])]),"Ngừng kinh doanh"!==t.product_status&&t.data.old_price?e("ProductPriceLabel",{attrs:{data:t.data}}):t._e(),"Home"!=t.$route.name&&t.data&&t.data.rating?e("ItemRatingBar",{staticClass:"mt5",attrs:{data:t.data.rating}}):t._e()],1)],1)},i=[],n=e("10ce"),o=e("4244"),r=e("16a8"),l=e("0285"),d=e("cc78"),c=e("fddb"),m=e("a718"),u=e("6e64"),h=e("ced0"),p=e("2df0"),_={name:"GridItem",props:["data","item_width","type","pv_medium"],mixins:[u["a"],h["a"]],data:function(){return{language:p,lazy_image:"https://phongvu.vn/images/default-image.png",product_status:null}},components:{ItemRatingBar:o["a"],ItemPromos:r["a"],Img:n["a"],FlashSaleBar:l["a"],DiscountLabel:d["a"],ProductPriceLabel:c["a"],InStockLabel:m["a"]},methods:{trackClickPromoProduct:function(t){}},created:function(){this.product_status=this.getProductBuyingStatus(this.data.catalog_status_code,this.data.instock_qty,this.data.needs_check_qty)[0],"Ngừng kinh doanh"==this.product_status||this.data.old_price||this.data.bundle_items||(this.product_status="Liên hệ")}},f=_,g=(e("94e8"),e("2877")),v=Object(g["a"])(f,s,i,!1,null,"40131a03",null);a["a"]=v.exports},"5cbf":function(t,a,e){},"790d":function(t,a,e){"use strict";var s=e("1919"),i=e.n(s);i.a},8085:function(t,a,e){"use strict";var s=e("f54d"),i=e.n(s);i.a},"94e8":function(t,a,e){"use strict";var s=e("5522"),i=e.n(s);i.a},aeca:function(t,a,e){"use strict";e.d(a,"a",function(){return n});var s=e("c1df"),i=e.n(s),n={data:function(){return{days:"",hours:"",minutes:"",seconds:""}},methods:{formatHour:function(t){var a=t.slice(-8).slice(0,5);return a},formatNumber:function(t){return t=("0"+t).slice(-2),t},timerCount:function(t,a){var e=a-t;e<0?clearInterval(this.interval):this.calcTime(e)},calcTime:function(t){this.days=Math.floor(t/864e5),this.hours=Math.floor(t%864e5/36e5),this.minutes=Math.floor(t%36e5/6e4),this.seconds=Math.floor(t%6e4/1e3)},parseToTimeStamp:function(t){var a=t.split(" "),e=a[0].split("-"),s=a[1].split(":"),i=new Date(e[0],parseInt(e[1])-1,e[2],s[0],s[1],s[2]).valueOf();return i=Math.ceil(i/1e3),i},addDay:function(t,a){a<0&&(a+=7);var e=new Date(t.replace(" ","T"));return e.setDate(e.getDate()+a),e=i()(e).format("YYYY-MM-DD HH:mm:ss"),e}}}},aff9:function(t,a,e){"use strict";var s=e("164d"),i=e.n(s);i.a},b651:function(t,a,e){},cff8:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"loading-icon"},[e("v-img",{staticClass:"logo",attrs:{src:t.logo}}),e("v-img",{staticClass:"logo-border",attrs:{src:t.loading_border}})],1)},i=[],n={name:"LoadingIcon",data:function(){return{logo:"https://phongvu.vn/images/logo-loading.png",loading_border:"https://phongvu.vn/images/loading.svg"}}},o=n,r=(e("8085"),e("2877")),l=Object(r["a"])(o,s,i,!1,null,"3aa4c910",null);a["a"]=l.exports},e09c:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"carousel-layout"},[e("swiper",{directives:[{name:"show",rawName:"v-show",value:t.data.length>0&&0==t.isLoading&&!t.isFlashSale,expression:"data.length > 0 && isLoading == false && !isFlashSale"}],staticClass:"py5",attrs:{options:t.swiperOption}},[t._l(t.data,function(a,s){return e("swiper-slide",{key:s},[e("Item",{attrs:{pv_medium:t.pv_medium,data:a,type:t.type}})],1)}),e("div",{staticClass:"slider-prev",attrs:{slot:"button-prev"},slot:"button-prev"},[e("i",{staticClass:"fa fa-angle-left"})]),e("div",{staticClass:"slider-next",attrs:{slot:"button-next"},slot:"button-next"},[e("i",{staticClass:"fa fa-angle-right"})])],2),t.data.length>0&&0==t.isLoading&&t.isFlashSale?e("swiper",{attrs:{options:t.swiperOption}},[t._l(t.data,function(a,s){return e("swiper-slide",{key:s},[e("FlashSaleItem",{attrs:{hidden_price:t.hidden_price,data:a,type:t.type}})],1)}),e("div",{staticClass:"slider-prev",attrs:{slot:"button-prev"},slot:"button-prev"},[e("i",{staticClass:"fa fa-angle-left"})]),e("div",{staticClass:"slider-next",attrs:{slot:"button-next"},slot:"button-next"},[e("i",{staticClass:"fa fa-angle-right"})])],2):t._e(),1==t.isLoading?e("div",{staticClass:"loading-content"},[e("LoadingIcon")],1):t._e()],1),0==t.isLoading&&0==t.data.length?e("div",[e("v-card",{staticClass:"no-product",attrs:{flat:"",height:"297"}},[e("div",{staticClass:"pt20"},[e("v-img",{staticClass:"no-product-img",attrs:{contain:"",src:t.no_product_img}}),e("p",{staticClass:"text-xs-center"},[t._v("Không có sản phẩm nào")])],1)])],1):t._e()])},i=[],n=(e("dfa4"),e("7212")),o=e("5a82"),r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{"data-track-content":"","data-content-name":t.type?t.type:t.data.data_content_name},on:{click:function(a){return t.trackClickPromoProduct(t.data.data_content_name)}}},[e("v-card",{staticClass:"product-item m5",attrs:{flat:"",width:t.item_width,to:{name:"Product",params:{sku:t.data.sku,url:t.data.url_key},query:{pv_source:"website",pv_medium:"hp-flashsale",pv_campaign:t.data.sku}},"data-content-piece":t.data.sku?t.data.sku:""}},[e("div",{staticClass:"flex",attrs:{height:"25px"}},["Ngừng kinh doanh"==t.product_status||"Liên hệ"==t.product_status||t.hidden_price?t._e():e("DiscountLabel",{attrs:{data:t.data}}),t.data?e("ItemPromos",{staticClass:"mt5",attrs:{data:t.data}}):t._e()],1),e("div",{staticClass:"product-img"},[e("Img",{class:{grayscale:"Ngừng kinh doanh"==t.product_status},attrs:{src:t.data.image?t.data.image:t.default_image,height:194}}),t.data.flash_sale_bar?e("FlashSaleBar",{attrs:{data:t.data.flash_sale_bar,isFlashsaleBlock:!0}}):t._e()],1),e("v-tooltip",{attrs:{"max-width":"250",lazy:"",top:""}},[e("p",{staticClass:"product-name",attrs:{slot:"activator"},slot:"activator"},[t._v("\n        "+t._s(t.data.seo_name?t.data.seo_name:t.data.name)+"\n      ")]),e("p",[t._v(t._s(t.data.seo_name?t.data.seo_name:t.data.name))])]),"Ngừng kinh doanh"!==t.product_status&&t.data.old_price?e("ProductPriceLabel",{attrs:{data:t.data,hidden_price:t.hidden_price}}):t._e()],1)],1)},l=[],d=e("10ce"),c=e("4244"),m=e("16a8"),u=e("0285"),h=e("cc78"),p=e("fddb"),_=e("a718"),f=e("6e64"),g=e("ced0"),v={name:"FlashSaleItem",props:["data","item_width","type","hidden_price"],mixins:[f["a"],g["a"]],data:function(){return{product_status:null,default_image:"https://phongvu.vn/images/default-image.png"}},components:{ItemRatingBar:c["a"],ItemPromos:m["a"],Img:d["a"],FlashSaleBar:u["a"],DiscountLabel:h["a"],ProductPriceLabel:p["a"],InStockLabel:_["a"]},methods:{trackClickPromoProduct:function(t){}},created:function(){this.product_status=this.getProductBuyingStatus(this.data.catalog_status_code,this.data.instock_qty,this.data.needs_check_qty)[0]}},b=v,y=(e("4e9b"),e("2877")),k=Object(y["a"])(b,r,l,!1,null,"454399a7",null),C=k.exports,x=e("cff8"),w={name:"CarouselLayout",props:["data","isLoading","item_qty","type","isFlashSale","hidden_price","pv_medium"],components:{FlashSaleItem:C,Item:o["a"],swiper:n["swiper"],swiperSlide:n["swiperSlide"],LoadingIcon:x["a"]},data:function(){return{no_product_img:"https://phongvu.vn/images/no-product.png",swiperOption:{lazy:!0,slidesPerView:this.item_qty?this.item_qty:5,spaceBetween:10,slidesPerGroup:this.item_qty?this.item_qty:5,loop:!1,loopFillGroupWithBlank:!1,navigation:{nextEl:".slider-next",prevEl:".slider-prev"}}}}},L=w,M=(e("aff9"),Object(y["a"])(L,s,i,!1,null,"6d20e59c",null));a["a"]=M.exports},ef42:function(t,a,e){"use strict";var s=e("5cbf"),i=e.n(s);i.a},f54d:function(t,a,e){},fee2:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"flash-sale-header",style:{backgroundColor:t.flashsale_style.header_background}},[e("div",{staticClass:"w36 flex px15"},[e("div",{staticClass:"flex align-center"},[e("v-icon",{attrs:{size:"32",color:t.flashsale_style.icon_color}},[t._v("pvi-icon_FlashSale")]),e("span",{staticClass:"text-uppercase fs20 font-weight-bold ml5",style:{color:t.flashsale_style.icon_color}},[t._v("Giờ vàng giá sốc")])],1),e("v-spacer"),e("div",{staticClass:"count-down"},[e("span",{staticClass:"hours",style:{backgroundColor:t.flashsale_style.timer_background,color:t.flashsale_style.timer_color}},[t._v(t._s(t.formatNumber(t.hours)))]),e("span",{staticClass:"minutes",style:{backgroundColor:t.flashsale_style.timer_background,color:t.flashsale_style.timer_color}},[t._v(t._s(t.formatNumber(t.minutes)))]),e("span",{staticClass:"seconds",style:{backgroundColor:t.flashsale_style.timer_background,color:t.flashsale_style.timer_color}},[t._v(t._s(t.formatNumber(t.seconds)))])])],1),null!==t.time?e("div",{staticClass:"w64 flex align-center"},t._l(t.time.mocks,function(a,s){return e("v-btn",{key:s,staticClass:"flash-mock-btn",class:{active:s==t.tabModel},style:{backgroundColor:s==t.tabModel?t.flashsale_style.period_item.active.background_color:t.flashsale_style.period_item.normal.background_color,color:s==t.tabModel?t.flashsale_style.period_item.active.text_color:t.flashsale_style.period_item.normal.text_color},attrs:{flat:"",disabled:1==t.isLoading&&s!==t.tabModel,dark:""},on:{click:function(a){return t.changeTab(s)}}},[e("div",[e("p",{staticClass:"fs18 font-weight-bold",staticStyle:{"line-height":"20px"}},[t._v("\n            "+t._s(t.formatHour(a.time))+"\n          ")]),e("p",{staticClass:"fs12 font-initial"},[t._v(t._s(a.text))])])])}),1):t._e()]),e("div",{staticClass:"flash-sale-content bg-white"},[e("CarouselLayout",{attrs:{isLoading:t.isLoading,hidden_price:0!=t.tabModel,data:t.data["tab_"+t.tabModel].slice(0,10),isFlashSale:!0}}),t.data["tab_0"].length&&t.data["tab_0"].length>10&&0==t.tabModel?e("div",{staticClass:"text-md-center"},[e("v-btn",{staticClass:"view-all-btn",attrs:{to:{name:"ProductList",params:{cat_id:"flashsale"}},depressed:""},on:{click:t.trackViewAllFlashsale}},[t._v("Xem tất cả")])],1):t._e()],1)])},i=[],n=e("e09c"),o=e("c1df"),r=e.n(o),l=e("aeca"),d=e("a8e1"),c=e("aec4"),m={name:"HomeFlashSale",components:{CarouselLayout:n["a"]},mixins:[l["a"]],computed:{flashsale_style:{get:function(){return this.$store.getters.theme_desktop.flashsale}},getMocksForFlashSale:function(){var t=new Date,a=r()(t).format("YYYY-MM-DD"),e=r()(this.addDay(a,1)).format("YYYY-MM-DD"),s=r()(t).format("HH:mm"),i="08:00",n="11:00",o="16:00",l="22:00",d=[];i<=s&&s<n?(d[0]={time:a+" "+i+":00",text:"Đang diễn ra"},d[1]={time:a+" "+n+":00",text:"Sắp diễn ra"},d[2]={time:a+" "+o+":00",text:"Sắp diễn ra"},d[3]={time:a+" "+l+":00",text:"Sắp diễn ra"}):n<=s&&s<o?(d[0]={time:a+" "+n+":00",text:"Đang diễn ra"},d[1]={time:a+" "+o+":00",text:"Sắp diễn ra"},d[2]={time:a+" "+l+":00",text:"Sắp diễn ra"},d[3]={time:e+" "+i+":00",text:"Ngày mai"}):o<=s&&s<l?(d[0]={time:a+" "+o+":00",text:"Đang diễn ra"},d[1]={time:a+" "+l+":00",text:"Sắp diễn ra"},d[2]={time:e+" "+i+":00",text:"Ngày mai"},d[3]={time:e+" "+n+":00",text:"Ngày mai"}):(l<=s||"00:00"<=s&&s<i)&&(d[0]={time:a+" "+l+":00",text:"Đang diễn ra"},d[1]={time:e+" "+i+":00",text:"Ngày mai"},d[2]={time:e+" "+n+":00",text:"Ngày mai"},d[3]={time:e+" "+o+":00",text:"Ngày mai"});var c={};return c["current_time"]=r()(t).format("YYYY-MM-DD HH:mm:ss"),c["mocks"]=d,c}},data:function(){return{tabModel:0,time:null,data:{tab_0:[],tab_1:[],tab_2:[],tab_3:[]},isLoading:!0,params:{channel:"pv_online",terminal:"phongvu",_limit:11,flashSaleType:"GOLDEN_TIME"},startMoment:r()()}},methods:{getGoldenTime:function(t){var a=this;this.isLoading=!0,this.params["flashSale_gte"]=Date.now()/1e3,this.params["flashSale_lte"]=Date.now()/1e3+1,c["k"].getSearchResults(t).then(function(t){if(t.data){var e=d["a"].convertModel(t.data);e&&e.data&&e.data.products&&(a.data["tab_"+a.tabModel]=e.data.products)}a.isLoading=!1})},getGoldenTimeByMock:function(t){var a=this;this.isLoading=!0,c["k"].getSearchResults(t).then(function(t){if(t.data){var e=d["a"].convertModel(t.data);if(e&&e.data&&e.data.products){for(var s=e.data.products,i=0;i<s.length;i++)s[i].flash_sale_bar={};a.data["tab_"+a.tabModel]=s}}a.isLoading=!1})},changeTab:function(t){this.tabModel=t},trackViewAllFlashsale:function(){}},watch:{tabModel:function(){0==this.data["tab_"+this.tabModel].length&&(this.params["flashSale_gte"]=this.parseToTimeStamp(this.time.mocks[this.tabModel].time),this.tabModel<3?this.params["flashSale_lte"]=this.parseToTimeStamp(this.time.mocks[this.tabModel+1].time)-1:this.params["flashSale_lte"]=this.parseToTimeStamp(this.addDay(this.time.mocks[0].time,1))-1,this.getGoldenTimeByMock(this.params))}},created:function(){var t=this;this.time=this.getMocksForFlashSale,this.startMoment=r()(this.time.current_time);var a=r()(this.time.mocks[1].time);this.timerCount(this.startMoment,a),this.getGoldenTime(this.params),this.interval=setInterval(function(){t.startMoment=t.startMoment+1e3,t.timerCount(t.startMoment,a)},1e3)}},u=m,h=(e("ef42"),e("2877")),p=Object(h["a"])(u,s,i,!1,null,"1f8fdb86",null);a["a"]=p.exports}}]);
//# sourceMappingURL=promo1.e908fa9b.js.map