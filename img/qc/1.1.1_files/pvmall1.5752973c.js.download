(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["js/routes/home1~js/routes/product1~js/routes/productlist1~js/routes/promo1~js/routes/pvmall1"],{"0098":function(t,e,a){"use strict";var n=a("e591"),s=a.n(n);s.a},"0285":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[Object.keys(t.data).length>0?a("div",[t.data.instock>0?a("div",{staticClass:"flash-sale-bar absolute w100 px10 py5",style:{background:t.data.background}},[a("div",{staticClass:"flex align-center"},[t._m(0),a("div",{staticClass:"flash-sale-text fs12"},[t.data.instock<=5?a("p",[t._v("\n            Còn lại\n            "),a("span",[t._v(t._s(t.data.instock))])]):a("p",[t._v("\n            Đã bán\n            "),a("span",[t._v(t._s(t.data.used))])])])])]):t.isFlashsaleBlock?a("div",{staticClass:"flash-sale-bar absolute w100 px10 py5",style:{background:t.data.background}},[t._m(1)]):t._e()]):t.isFlashsaleBlock?a("div",{staticClass:"flash-sale-bar absolute w100 px10 py5",staticStyle:{background:"linear-gradient(94deg, #f9d423, #e67500)"}},[t._m(2)]):t._e()])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"flash-sale-icon pt3 mr10"},[a("i",{staticClass:"pvi-icon_V4_FlashSale fs14"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex align-center"},[a("span",{staticClass:"flash-sale-icon pt3 mr10"},[a("i",{staticClass:"pvi-icon_V4_FlashSale fs14"})]),a("div",{staticClass:"flash-sale-text fs12"},[a("p",[t._v("Đã bán hết")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex align-center"},[a("span",{staticClass:"flash-sale-icon pt3 mr10"},[a("i",{staticClass:"pvi-icon_V4_FlashSale fs14"})]),a("div",{staticClass:"flash-sale-text fs12"},[a("p",[t._v("Sắp mở bán")])])])}],i={name:"ProductDetailFlashSale",props:["data","isFlashsaleBlock"]},r=i,o=(a("0abe"),a("2877")),c=Object(o["a"])(r,n,s,!1,null,"ca22e0d0",null);e["a"]=c.exports},"067e":function(t,e,a){},"0abe":function(t,e,a){"use strict";var n=a("f8c6"),s=a.n(n);s.a},"16a8":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tags"},[Object.keys(t.data.online_payment).length?a("img",{staticClass:"promo-img tag-item",attrs:{src:t.visa_img}}):t._e(),t.data.gifts.filter(function(e){return t.checkValidGift(e)})?a("div",{staticClass:"tag-item"},[a("v-tooltip",{attrs:{"max-width":"250",lazy:"",bottom:""}},[t.data.gifts.filter(function(e){return t.checkValidGift(e)}).length?a("v-img",{staticClass:"tag-item",attrs:{slot:"activator",height:"15",width:"18",contain:"",src:t.gift_img},slot:"activator"}):t._e(),t.gifts_promotion_id.length>0?a("div",t._l(t.gifts_promotion_id,function(e,n){return a("div",{key:"gift-group-"+n},[t._v("\n          Mua\n          "+t._s(t.data.gifts.filter(function(t){return t.promotion_id==e})[0].block_size)+"\n          sản phẩm tặng:\n          "),t._l(t.data.gifts.filter(function(t){return t.promotion_id==e}),function(e,n){return a("p",{key:n},[t._v("\n            "+t._s(e.quantity>1?e.quantity:null)+" "+t._s(e.name)+"\n          ")])})],2)}),0):t._e()],1)],1):t._e(),t.data.instalment?a("div",{staticClass:"tag-item"},[Object.keys(t.data.instalment).length?a("span",{staticClass:"installment tag-item"},[t._v("\n      Trả góp\n      "),"0%"==t.data.instalment.value?a("span",[t._v("0%")]):t._e()]):t._e()]):t._e()])},s=[],i=a("d326"),r=a("6b34");function o(t){return u(t)||l(t)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function l(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function u(t){if(Array.isArray(t)){for(var e=0,a=new Array(t.length);e<t.length;e++)a[e]=t[e];return a}}var d={name:"ProductItemPromos",props:["data"],mixins:[i["a"],r["a"]],data:function(){return{gifts_promotion_id:[]}},created:function(){var t=this;this.data.gifts.length&&(this.data.gifts.forEach(function(e){t.gifts_promotion_id.push(e.promotion_id)}),this.gifts_promotion_id=o(new Set(this.gifts_promotion_id)))},mounted:function(){}},f=d,p=(a("9989"),a("2877")),_=Object(p["a"])(f,n,s,!1,null,"5711c2ab",null);e["a"]=_.exports},"34b4":function(t,e,a){},4244:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"rating flex"},[t.data.average&&t.data.average>0?a("v-rating",{staticClass:"mr10",attrs:{color:"#ffc120",size:"14",dense:"",readonly:""},model:{value:t.data.average,callback:function(e){t.$set(t.data,"average",e)},expression:"data.average"}}):t._e(),t.data.voteCount&&t.data.voteCount>0?a("span",{staticClass:"grey--text fs13"},[t._v(t._s(t.data.voteCount)+" nhận xét")]):t._e()],1)},s=[],i={props:["data"]},r=i,o=a("2877"),c=Object(o["a"])(r,n,s,!1,null,"100b6988",null);e["a"]=c.exports},"5b5e1":function(t,e,a){"use strict";var n=a("9233"),s=a.n(n);s.a},"6e64":function(t,e,a){"use strict";a.d(e,"a",function(){return n});var n={methods:{getBestPrice:function(t){var e=t.final_price,a=t.coupon;return a&&Object.keys(a).length>0&&("value"==a.type?e-=a.value:"percent"==a.type&&(e-=e*a.value/100)),e<0&&(e=0),e},formatPrice:function(t){var e=(t/1).toFixed(0).replace(".");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},hiddenPrice:function(t){var e=this.formatPrice(t),a="";if(t<1e6)for(var n=0;n<e.length;n++)a+=1!==n&&2!==n?e[n]:"?";else if(1e6<=t&&t<1e7)for(var s=0;s<e.length;s++)a+=2!==s&&3!==s?e[s]:"?";else if(1e7<=t&&t<1e8)for(var i=0;i<e.length;i++)a+=1!==i&&3!==i?e[i]:"?";return a+"đ"},caculateBestPrice:function(t){var e=this,a=t.final_price,n=a;if(t.coupon&&Object.keys(t.coupon).length>0&&("value"==t.coupon.type?n-=t.coupon.value:"percent"==t.coupon.type&&(n-=a*(t.coupon.value/100))),t.online_payment&&Object.keys(t.online_payment).length>0){var s=t.online_payment.type,i=t.online_payment.value,r=0;"percent"==s&&(r=this.calculatePercent(a,i,0)),"value"==s&&(r=i),n-=r}if(t.qr_code&&Object.keys(t.qr_code).length>0){var o=0;t.qr_code.limit.forEach(function(t){var a=e.calculatePercent(n,t.percentage,t.maxDiscount);a>o&&(o=a)}),n-=o}return n},calculatePercent:function(t,e,a){var n=t*e/100;return a&&n>a&&(n=a),n},getBestQRCode:function(t){var e={code:"VNPAYQR5",value:"5"};return e}}}},9233:function(t,e,a){},9989:function(t,e,a){"use strict";var n=a("067e"),s=a.n(n);s.a},a718:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.hideLabelStatuses.includes(t.product_status)?t._e():a("div",{staticClass:"instock-label"},[a("div",{staticClass:"other-tag"},[a("div",{staticClass:"htb-label"},[a("span",[t._v(t._s(t.product_status))])])])])},s=[],i=a("d326"),r=a("ced0"),o={props:["data"],mixins:[i["a"],r["a"]],data:function(){return{product_status:null}},methods:{getProductStatus:function(t){this.product_status=this.getProductBuyingStatus(this.data.catalog_status_code,this.data.instock_qty,this.data.needs_check_qty)[0],"Ngừng kinh doanh"==this.product_status||this.data.old_price||this.data.bundle_items||(this.product_status="Liên hệ")}},watch:{data:function(){this.getProductStatus(this.data)}},created:function(){this.getProductStatus(this.data)}},c=o,l=(a("0098"),a("2877")),u=Object(l["a"])(c,n,s,!1,null,"66c8518c",null);e["a"]=u.exports},a8e1:function(t,e,a){"use strict";a.d(e,"a",function(){return c});var n=a("1faf");function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e,a){return e&&i(t.prototype,e),a&&i(t,a),t}var o=function(){function t(){s(this,t)}return r(t,[{key:"convertModel",value:function(t){var e={current_page:t.extra.page,page_size:t.extra.pageSize,total_items:t.extra.totalItems,total_page:Math.ceil(t.extra.totalItems/t.extra.pageSize),data:{keywords:t.result.keywords,filter:this.getFilters(t.result.filters),products:this.getProducts(t.result.products)}};return e}},{key:"getStockQty",value:function(t){var e=0;if(t&&t.length>0){var a=t.filter(function(t){return"Biz"==t.type});a.length>0&&(e=a[0].total)}return e}},{key:"getFilters",value:function(t){var e=[];if(t&&t.length>0)for(var a=0;a<t.length;a++){var n={code:t[a].code,label:t[a].name,option:this.getFilterOptions(t[a].values,t[a].code)};e.push(n)}return e}},{key:"getFilterOptions",value:function(t,e){var a=[];if(t)for(var n=0;n<t.length;n++){var s={code:e,option_id:t[n].option,option:t[n].value,total:t[n].count};a.push(s)}return a}},{key:"getProducts",value:function(t){var e=[];if(t.length>0)for(var a=0;a<t.length;a++){var s=n["a"].getGifts(t[a]),i=s.gifts,r=s.moneys,o={catalog_status_code:t[a].status.sale,category_id:[],coupon:n["a"].getCoupon(t[a]),category:n["a"].getCategory(t[a]),data_content_name:"PhongVu Products",final_price:n["a"].getFinalPrice(t[a]),flash_sale_price:n["a"].getIncomingFlashsalePrice(t[a]),flash_sale_bar:n["a"].getFlashSaleBar(t[a]),gifts:i,moneys:r,image:n["a"].getListingImage(t[a].images,350),instalment:[],instock_qty:this.getStockQty(t[a].totalAvailableByStocks),needs_check_qty:n["a"].doesNeedCheckQty(t[a]),magento_id:t[a].magentoId,meta_title:null,name:t[a].name,old_price:n["a"].getOldPrice(t[a]),online_payment:!1,rating:t[a].rating?{average:t[a].rating.averagePoint,voteCount:t[a].rating.voteCount}:null,seo_name:t[a].displayName,short_description:t[a].seoInfo.shortDescription,sku:t[a].sku,publish_status:t[a].status.publish,url_key:t[a].url,is_bundle:t[a].isBundle,bundle_items:t[a].bundleProducts,parent_bundles:t[a].parentBundles};e.push(o)}return e}}]),t}(),c=new o},cc78:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return parseInt(t.data.old_price)>parseInt(t.getBestPrice(t.data))?a("i",{staticClass:"discount-label px3"},[t._v("\n  -"+t._s(t.getDiscountValue(parseInt(t.data.old_price),parseInt(t.getBestPrice(t.data))))+"\n")]):t._e()},s=[],i=a("6e64"),r={name:"DiscountLabel",props:["data"],mixins:[i["a"]],methods:{getDiscountValue:function(t,e){var a=t-e,n=Math.round((t-e)/t*100);return a>=1e6?n+"%":this.getShortFormat(t-e)},getShortFormat:function(t){var e=0;return e=t>999&&t<=999999?Math.floor(t/1e3)+"K":t,e}}},o=r,c=(a("eb6c"),a("2877")),l=Object(c["a"])(o,n,s,!1,null,"0a2f558e",null);e["a"]=l.exports},e591:function(t,e,a){},eb6c:function(t,e,a){"use strict";var n=a("34b4"),s=a.n(n);s.a},f8c6:function(t,e,a){},fddb:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"price-label w100 flex space-between"},[a("div",{staticClass:"product-price"},[a("p",[t.hidden_price?a("span",{staticClass:"fs 16 font-weight-bold"},[t._v("\n        "+t._s(t.data.flash_sale_price)+"đ\n      ")]):a("span",{staticClass:"fs 16 font-weight-bold"},[t._v("\n        "+t._s(t._f("currency")(t.getBestPrice(t.data)))+"\n      ")])]),t.data.old_price>t.getBestPrice(t.data)||t.data.flash_sale_price?a("p",[a("span",{staticClass:"fs12",staticStyle:{"text-decoration":"line-through"}},[t._v("\n        "+t._s(t._f("currency")(t.data.old_price))+"\n      ")])]):t._e()]),t.data.coupon&&Object.keys(t.data.coupon).length>0?a("div",{staticClass:"coupon mt3",style:{"font-size":t.data.coupon.text.length>8?"9px":"11px"}},[a("p",{staticClass:"coupon-text"},[t._v("Nhập mã")]),a("div",{staticClass:"coupon-code px5"},[a("div",{staticClass:"value"},[t._v(t._s(t.data.coupon.text))])])]):t._e()])},s=[],i=a("6e64"),r={name:"ProductPriceLabel",props:["data","hidden_price"],mixins:[i["a"]],methods:{getDiscountValue:function(t,e){var a=t-e,n=Math.round((t-e)/t*100);return a>=1e6?n+"%":this.getShortFormat(t-e)},getShortFormat:function(t){var e=0;return e=t>999&&t<=999999?Math.floor(t/1e3)+"K":t,e}}},o=r,c=(a("5b5e1"),a("2877")),l=Object(c["a"])(o,n,s,!1,null,"528ee150",null);e["a"]=l.exports}}]);
//# sourceMappingURL=pvmall1.5752973c.js.map